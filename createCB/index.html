<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CSS Imports -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>

  <!-- Alpine.js -->
  <script type="module" src="index.js"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- JavaScript Stellar SDK -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/stellar-sdk/10.4.0/stellar-sdk.js"></script>
</head>

<body>
  <div class="container mx-auto p-3">
    <h1 class="text-2xl font-bold">Create Claimable Balance</h1>
    <div
      x-data="$store.createClaimableBalanceStore"
      class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl p-6">
      <form @submit.prevent>
        <label for="pubkey">Source Public Key</label><br />
        <input type="text" name="pubkey" id="pubkey" x-model="source" /><br />

        <label for="seckey">Source Secret Key</label><br />
        <input type="password" name="seckey" id="seckey" x-model="secret" /><br />

        <label for="destination">Destination Address</label><br />
        <input type="text" name="destination" id="destination" x-model="destination" /><br />

        <input type="checkbox" name="selfClaimant" id="selfClaimant" x-model="selfClaim"
          class="form-checkbox rounded text-indigo-600" />
        <label for="selfClaimant">Include source account as an unconditional claimant</label><br />

        <label for="cbAsset">CB Asset (asset code, asset issuer)</label><br />
        <input type="text" name="cbAsset" id="cbAsset" x-model="asset.code" />
        <input type="text" name="cbIssuer" id="cbIssuer" x-model="asset.issuer" /><br />

        <label for="cbAmount">CB Amount</label><br />
        <input type="number" name="cbAmount" id="cbAmount" x-model="amount" /><br />

        <button
          class="bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1"
          type="submit" @click="createClaimableBalance()">
          Create CB!
        </button>
      </form>

      <p>Transaction Hash: <span x-text="txHash"></span></p>
      <p>Claimable Balance ID: <span x-text="cbId"></span></p>
    </div>
  </div>
</body>

</html>